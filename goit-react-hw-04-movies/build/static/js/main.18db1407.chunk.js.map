{"version":3,"sources":["services/api.js","assets/dfa4ec131cf975e7887ad4c36da126be.jpg","routes.js","components/Navigation.js","components/Searchbar.js","components/Layout/Layout.js","utils/getQueryParams.js","components/HomePage/HomePage.js","components/Searchbox.js","components/MoviesPage/MoviesPage.js","components/MovieDetailsPage/styles.js","components/MovieDetailsPage/MovieDetailsPage.js","components/NotFound.js","components/App.js","index.js"],"names":["getTrending","fetch","then","res","json","data","results","searchMovies","query","page","getMovieDetails","id","getMovieCredits","cast","getMovieReviews","module","exports","StyleLink","styled","NavLink","ListNav","ul","Navigation","exact","to","routes","Searchbar","LayoutStyle","div","Layout","children","getQueryParams","string","queryString","parse","ListHomePageFilm","HomePage","state","films","this","props","location","search","Api","setState","match","length","map","film","key","pathname","url","title","Component","Searchbox","handleInput","e","value","target","handleSubmit","preventDefault","onSubmit","type","onChange","ListMoviesPageFilm","MoviesPage","movies","fetchMovies","handleChangeQuery","history","push","prevProps","prevState","prevQuery","nextQuery","movie","ImgFilm","img","ListItem","WrapFilm","InformFilm","Wrap","AsyncReviews","lazy","AsyncCast","MovieDetails","handleGoBack","console","log","params","movieId","onClick","src","poster_path","alt","release_date","substr","vote_average","overview","genres","genre","name","fallback","path","component","WrapNotFound","NotFound","imagePath","width","App","exast","MovieDetailsPage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.18db1407.chunk.js","sourcesContent":["// export default {\n//   APIurl: \"https://www.themoviedb.org/\",\n//   key: \"39bf169d652a94822d0d5b446c64885a\",\n//   perPage: 12,\n//   get(query, page = 1) {\n//     return fetch(\n//       `${this.APIurl}?q=${query}&page=${page}&key=${this.key}&image_type=photo&orientation=horizontal&per_page=${this.perPage}`\n//     )\n//       .then((response) => response.json())\n//       .then((data) => data.resolts);\n//   },\n// };\n\n// const baseUrl = \"https://www.themoviedb.org/\";\n\nconst getTrending = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=39bf169d652a94822d0d5b446c64885a`\n  )\n    .then((res) => res.json())\n    .then((data) => data.results);\n};\n\nconst searchMovies = (query = \"\", page = 1) => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=39bf169d652a94822d0d5b446c64885a&query=${query}&page=${page}`\n  )\n    .then((res) => res.json())\n    .then((data) => data.results);\n};\n\nconst getMovieDetails = (id) => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=39bf169d652a94822d0d5b446c64885a`\n  ).then((res) => res.json());\n};\nexport const getMovieCredits = (id) => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=39bf169d652a94822d0d5b446c64885a`\n  )\n    .then((res) => res.json())\n    .then((data) => data.cast);\n};\nconst getMovieReviews = (id) => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=39bf169d652a94822d0d5b446c64885a`\n  )\n    .then((res) => res.json())\n    .then((data) => data.results);\n};\n\nexport default {\n  getTrending,\n  searchMovies,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n","module.exports = __webpack_public_path__ + \"static/media/dfa4ec131cf975e7887ad4c36da126be.8521b40e.jpg\";","export default {\n  home: \"/\",\n  movies: \"/movies\",\n  movieDetails: \"/movies/:movieId\",\n};\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport routes from \"../routes\";\nimport styled from \"styled-components\";\n\nexport const StyleLink = styled(NavLink)`\n  color: teal;\n  &:hover {\n    text-decoration: underline;\n  }\n  &.active {\n    color: red;\n  }\n`;\nexport const ListNav = styled.ul`\n  max-width: 100px;\n  list-style: none;\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst Navigation = () => (\n  <ListNav>\n    <li>\n      <StyleLink exact to={routes.home}>\n        Home\n      </StyleLink>\n    </li>\n    <li>\n      <StyleLink to={routes.movies}>Movies</StyleLink>\n    </li>\n  </ListNav>\n);\n\nexport default Navigation;\n","import React from \"react\";\nimport Navigation from \"./Navigation\";\n\nconst Searchbar = () => (\n  <header>\n    <Navigation />\n  </header>\n);\n\nexport default Searchbar;\n","import React from \"react\";\nimport Searchbar from \"../Searchbar\";\nimport styled from \"styled-components\";\n\nexport const LayoutStyle = styled.div`\n  max-width: 1170px;\n  padding: 20px;\n`;\n\nconst Layout = ({ children }) => (\n  <LayoutStyle>\n    <Searchbar />\n    {children}\n  </LayoutStyle>\n);\n\nexport default Layout;\n","import queryString from \"query-string\";\n\nexport default function getQueryParams(string) {\n  return queryString.parse(string);\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport getQueryParams from \"../../utils/getQueryParams\";\nimport Api from \"../../services/api\";\nimport styled from \"styled-components\";\n\nexport const ListHomePageFilm = styled.ul`\n  padding-left: 30px;\n  padding-top: 30px;\n`;\n\nexport default class HomePage extends Component {\n  state = {\n    films: [],\n  };\n  componentDidMount() {\n    const { query } = getQueryParams(this.props.location.search);\n    Api.getTrending(query).then((films) => this.setState({ films }));\n  }\n\n  render() {\n    const { films } = this.state;\n    const { match } = this.props;\n\n    return (\n      <>\n        {films.length > 0 && (\n          <ListHomePageFilm>\n            {films.map((film) => (\n              <li key={film.id}>\n                <Link\n                  to={{\n                    pathname: `${match.url}movies/${film.id}`,\n                    state: {\n                      ...this.props.location,\n                    },\n                  }}\n                >\n                  {film.title}\n                </Link>\n              </li>\n            ))}\n          </ListHomePageFilm>\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class Searchbox extends Component {\n  state = {};\n\n  handleInput = (e) => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.value);\n    this.setState({ value: \"\" });\n  };\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          value={this.state.value}\n          onChange={this.handleInput}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport getQueryParams from \"../../utils/getQueryParams\";\nimport Searchbox from \"../Searchbox\";\nimport Api from \"../../services/api\";\nimport styled from \"styled-components\";\n\nexport const ListMoviesPageFilm = styled.ul`\n  padding-left: 30px;\n  padding-top: 30px;\n`;\n\nexport default class MoviesPage extends Component {\n  state = {\n    movies: [],\n  };\n\n  componentDidMount() {\n    const { query } = getQueryParams(this.props.location.search);\n\n    if (query) {\n      this.fetchMovies(query);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query: prevQuery } = getQueryParams(prevProps.location.search);\n    const { query: nextQuery } = getQueryParams(this.props.location.search);\n\n    if (prevQuery !== nextQuery) {\n      this.fetchMovies(nextQuery);\n    }\n  }\n\n  fetchMovies = (query) => {\n    Api.searchMovies(query).then((movies) => this.setState({ movies }));\n  };\n\n  handleChangeQuery = (query) => {\n    this.props.history.push({\n      //   pathname: this.props.location.pathname, // или\n      ...this.props.location,\n      search: `query=${query}`,\n    });\n  };\n\n  render() {\n    const { movies } = this.state;\n    const { match } = this.props;\n\n    return (\n      <>\n        <Searchbox onSubmit={this.handleChangeQuery} />\n\n        {movies.length > 0 && (\n          <ListMoviesPageFilm>\n            {movies.map((movie) => (\n              <li key={movie.id}>\n                <Link\n                  to={{\n                    pathname: `${match.url}/${movie.id}`,\n                    state: {\n                      ...this.props.location,\n                    },\n                  }}\n                >\n                  {movie.title}\n                </Link>\n              </li>\n            ))}\n          </ListMoviesPageFilm>\n        )}\n      </>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nexport const ImgFilm = styled.img`\n  width: 20%;\n`;\nexport const ListItem = styled.ul`\n  padding-left: 30px;\n  margin-top: 30px;\n  border-top: 1px solid gray;\n`;\nexport const WrapFilm = styled.div`\n  display: flex;\n`;\nexport const InformFilm = styled.div`\n  padding-left: 20px;\n  line-height: 2;\n`;\nexport const Wrap = styled.div`\n  padding-top: 2px;\n  margin-top: 30px;\n  border-top: 1px solid gray;\n`;\n","import React, { Component, lazy, Suspense } from \"react\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport Api from \"../../services/api\";\n// import Cast from \"../Cast\";\n// import Reviews from \"../Reviews\";\nimport {\n  ImgFilm,\n  ListItem,\n  WrapFilm,\n  Wrap,\n  InformFilm,\n} from \"../MovieDetailsPage/styles\";\n\nconst AsyncReviews = lazy(() =>\n  import(\"../Reviews\" /*webpackChunkName: 'reviews' */)\n);\nconst AsyncCast = lazy(() => import(\"../Cast\" /*webpackChunkName: 'casts' */));\n\nexport default class MovieDetails extends Component {\n  state = {\n    movie: null,\n  };\n\n  componentDidMount() {\n    Api.getMovieDetails(this.props.match.params.movieId).then((movie) => {\n      this.setState({ movie });\n    });\n  }\n  handleGoBack = () => {\n    console.log(\"bac\");\n    this.props.history.push({\n      ...this.props.location.state,\n    });\n  };\n  render() {\n    const { movie } = this.state;\n    const { match } = this.props;\n    return (\n      <>\n        <Wrap>\n          <button type=\"button\" onClick={this.handleGoBack}>\n            Go Back\n          </button>\n          <br />\n          {movie && (\n            <>\n              <WrapFilm>\n                <ImgFilm\n                  src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n                  alt={movie.title}\n                />\n                <InformFilm>\n                  <h1>\n                    {movie.title} ({movie.release_date.substr(0, 4)})\n                  </h1>\n                  <p>User Score : {movie.vote_average * 10}%</p>\n                  <h3>Overview</h3>\n                  <p>{movie.overview}</p>\n                  <h3>Genres</h3>\n                  <p>\n                    {movie.genres.map((genre) => (\n                      <span>{genre.name} </span>\n                    ))}\n                  </p>\n                </InformFilm>\n              </WrapFilm>\n              <ListItem>\n                Additional informaton\n                <li>\n                  <Link\n                    to={{\n                      pathname: `${match.url}/cast`,\n                    }}\n                  >\n                    Cast\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to={{\n                      pathname: `${match.url}/reviews`,\n                    }}\n                  >\n                    Reviews\n                  </Link>\n                </li>\n              </ListItem>\n            </>\n          )}\n          <Suspense fallback={<h3>Loading ...</h3>}>\n            <Switch>\n              <Route path=\"/movies/:movieId/cast\" exact component={AsyncCast} />\n              <Route\n                path=\"/movies/:movieId/reviews\"\n                exact\n                component={AsyncReviews}\n              />\n            </Switch>\n          </Suspense>\n        </Wrap>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport imagePath from \"../assets/dfa4ec131cf975e7887ad4c36da126be.jpg\";\nimport styled from \"styled-components\";\n\nconst WrapNotFound = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst NotFound = () => (\n  <WrapNotFound>\n    <h1>404</h1>\n    <img src={imagePath} alt=\"cat detective\" width=\"320\" />\n    <p>\n      Упс, кажется Вы потерялись. Вот <Link to=\"/\">ccылка</Link> на главную\n      страницу.\n    </p>\n  </WrapNotFound>\n);\n\nexport default NotFound;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Layout from \"./Layout/Layout\";\nimport HomePage from \"./HomePage/HomePage\";\nimport MoviesPage from \"./MoviesPage/MoviesPage\";\nimport MovieDetailsPage from \"./MovieDetailsPage/MovieDetailsPage\";\nimport NotFound from \"./NotFound\";\n\nexport default function App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/movies\" exact component={MoviesPage} />\n        <Route path=\"/movies/:movieId\" exast component={MovieDetailsPage} />\n        <Route component={NotFound} />\n      </Switch>\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./components/App\";\nimport \"./base.css\";\n///Компонент называется всегда с большой буквы\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// BrowserRouter создает экземпляр этой истории после чего прослушивает-следит состояние URL, бросает служебную информацию, что url изменился. оповещает\n"],"sourceRoot":""}