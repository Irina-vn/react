{"version":3,"sources":["components/servises/api.js","components/Searchbar/styles.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/styles.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/styles.js","components/ImageGallery/ImageGallery.js","components/Button/styles.js","components/Button/Button.js","components/Loader/Loader.js","components/Notification.js","components/Modal/styles.js","components/Modal/Modal.js","components/App/styles.js","components/App/App.js","index.js"],"names":["APIurl","key","perPage","get","query","page","fetch","this","then","response","json","data","hits","SearchBar","styled","div","SearchForm","form","SearchFormButton","button","SearchFormInput","input","Searchbar","state","onSubmit","handlerInput","e","setState","target","value","handlerSubmit","preventDefault","props","type","className","onChange","autocomplete","placeholder","Component","GalleryItem","li","Img","img","ImageGalleryItem","webformatURL","largeImageURL","onClickImg","src","data-large","onClick","GalleryImg","ul","ImageGallery","images","map","image","ButtonUpload","Button","console","log","onScroll","Wrap","App","color","height","width","timeout","Notification","message","Overlay","ModalWindow","Modal","handlerKeyDown","code","onClose","window","addEventListener","removeEventListener","imgUrl","alt","AppStyles","loading","error","largeUrl","closeModal","scrollTo","top","document","documentElement","scrollHeight","behavior","fetchImages","api","prevState","catch","finally","onFormSubmit","textInput","onClickImageLarge","dataset","large","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2f83f084.chunk.js","sourcesContent":["// import axios from \"axios\";\n\n// const APIurl = \"https://pixabay.com/api//\";\n// const key = \"18852537-a646493262a464008a7b16caa\";\n// const perPage = 12;\n\n// export const get = (query, page) => {\n//   return axios.get(\n//     `${APIurl}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=${perPage}`\n//   );\n// };\n// export const getNull = () => null;\n\nexport default {\n  APIurl: \"https://pixabay.com/api/\",\n  key: \"18852537-a646493262a464008a7b16caa\",\n  perPage: 12,\n  get(query, page = 1) {\n    return fetch(\n      `${this.APIurl}?q=${query}&page=${page}&key=${this.key}&image_type=photo&orientation=horizontal&per_page=${this.perPage}`\n    )\n      .then((response) => response.json())\n      .then((data) => data.hits);\n  },\n};\n","import styled from \"styled-components\";\n\nexport const SearchBar = styled.div`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  &::hover {\n    opacity: 1;\n  }\n`;\n\n//   export const SearchFormButtonLabel = styled.label`\n//    position: absolute;\n//     width: 1px;\n//     height: 1px;\n//     padding: 0;\n//     overflow: hidden;\n//     clip: rect(0, 0, 0, 0);\n//     white-space: nowrap;\n//     clip-path: inset(50%);\n//     border: 0;\n//   `;\n\nexport const SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  SearchBar,\n  SearchForm,\n  SearchFormButton,\n  SearchFormInput,\n} from \"./styles\";\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: \"\",\n  };\n  onSubmit = () => {};\n\n  handlerInput = (e) => {\n    // const { query } = this.state;\n    this.setState({ query: e.target.value });\n  };\n\n  handlerSubmit = (e) => {\n    e.preventDefault();\n    const { query } = this.state;\n    this.props.onSubmit(query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <>\n        <SearchBar>\n          <SearchForm onSubmit={this.handlerSubmit}>\n            <SearchFormButton type=\"submit\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </SearchFormButton>\n\n            <SearchFormInput\n              type=\"text\"\n              onChange={this.handlerInput}\n              value={this.state.query}\n              autocomplete=\"off\"\n              placeholder=\"Search images and photos\"\n            />\n          </SearchForm>\n        </SearchBar>\n      </>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nexport const GalleryItem = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nexport const Img = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &::hover \n    transform: scale(1.03);\n    cursor: zoom-in; \n`;\n","import React from \"react\";\nimport { GalleryItem, Img } from \"./styles\";\n\nexport default function ImageGalleryItem({\n  webformatURL,\n  largeImageURL,\n  onClickImg,\n}) {\n  return (\n    <>\n      <GalleryItem>\n        <Img\n          src={webformatURL}\n          data-large={largeImageURL}\n          onClick={onClickImg}\n        />\n      </GalleryItem>\n    </>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const GalleryImg = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { GalleryImg } from \"./styles\";\n\nexport default function ImageGallery({ images, onClickImg }) {\n  return (\n    <>\n      <GalleryImg>\n        {images.map((image) => (\n          <ImageGalleryItem\n            key={image.webformatURL}\n            webformatURL={image.webformatURL}\n            largeImageURL={image.largeImageURL}\n            onClickImg={onClickImg}\n          />\n        ))}\n      </GalleryImg>\n    </>\n  );\n}\n","import styled from \"styled-components\";\nexport const ButtonUpload = styled.button`\n padding: 8px 16px;\n    border-radius: 2px;\n    background-color: #3f51b5;\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    text-align: center;\n    display: inline-block;\n    color: #fff;\n    border: 0;\n    text-decoration: none;\n    cursor: pointer;\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 24px;\n    font-style: normal;\n    font-weight: 500;\n    min-width: 180px;\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n      0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n      &::hover,\n  &::focus {\n    background-color: #303f9f;\n      `;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ButtonUpload } from \"./styles\";\n\nexport default class Button extends Component {\n  // static propTypes = {\n  //   scrollTo: PropTypes.func.isRequired,\n  // };\n\n  componentDidMount() {\n    console.log(this.props);\n    this.props.onScroll();\n  }\n\n  render() {\n    return (\n      <ButtonUpload type=\"button\" onClick={this.props.onClick}>\n        Load more\n      </ButtonUpload>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styled from \"styled-components\";\n\nconst Wrap = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport default class App extends Component {\n  //other logic\n  render() {\n    return (\n      <Wrap>\n        <Loader\n          type=\"Grid\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          timeout={3000} //3 secs\n        />\n      </Wrap>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default function Notification({ message }) {\n  return <div>{message}</div>;\n}\n","import styled from \"styled-components\";\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nexport const ModalWindow = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n","import React, { Component } from \"react\";\nimport { Overlay, ModalWindow } from \"./styles\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n  static propTypes = {\n    imgUrl: PropTypes.string,\n  }; //вешаем слушатель\n  componentDidMount() {\n    // console.log(\"Modal\");\n    window.addEventListener(\"keydown\", this.handlerKeyDown);\n  }\n  ///снимаем слушатель, чтобы не забивал оперативку\n  componentWillUnmount() {\n    // console.log(\"unmount\");\n    window.removeEventListener(\"keydown\", this.handlerKeyDown);\n  }\n\n  handlerKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      // console.log(\"close modal\");\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <Overlay onClick={this.handlerKeyDown}>\n          <ModalWindow>\n            <img src={this.props.imgUrl} alt=\"\" />\n          </ModalWindow>\n        </Overlay>\n      </>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nexport const AppStyles = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\n","import React, { Component } from \"react\";\nimport api from \"../servises/api\";\n\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Loader from \"../Loader/Loader\";\n\n// import Spinner from \"../Spinner/Spinner\";\nimport Notification from \"../Notification\";\nimport Modal from \"../Modal/Modal\";\nimport { AppStyles } from \"./styles\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    query: \"\",\n    page: 1,\n    error: null,\n    largeUrl: null,\n  };\n\n  closeModal = () => {\n    this.setState((state) => ({ largeUrl: null }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  fetchImages = () => {\n    const { query, page } = this.state;\n    this.setState({\n      loading: true,\n    });\n\n    api\n      .get(query, page)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  onFormSubmit = (textInput) => {\n    this.setState({\n      query: textInput,\n      images: [],\n      page: 1,\n    });\n  };\n\n  onClickImageLarge = (e) => {\n    this.setState({ largeUrl: e.target.dataset.large });\n  };\n\n  render() {\n    const { images, loading, error, largeUrl } = this.state;\n\n    return (\n      <>\n        <AppStyles>\n          <Searchbar onSubmit={this.onFormSubmit} />\n          {error && (\n            <Notification\n              message={`Whoops, something went wrong :${error.message}`}\n            />\n          )}\n\n          {images.length > 0 && (\n            <ImageGallery images={images} onClickImg={this.onClickImageLarge} />\n          )}\n\n          {loading && <Loader />}\n          {/* {loading && <Spinner message=\"Loading...\" />} */}\n\n          {images.length > 0 && !loading && (\n            <Button\n              type=\"button\"\n              onClick={this.fetchImages}\n              onScroll={this.onScroll}\n            >\n              Load more\n            </Button>\n          )}\n        </AppStyles>\n\n        {largeUrl && <Modal imgUrl={largeUrl} onClose={this.closeModal} />}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"./base.css\";\n///Компонент называется всегда с большой буквы\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}